{"name":"Neuritetracker","tagline":"High throughput detection & tracking of neurons in live cell imaging","body":"Neuritetracker is software for high throughput detection, tracking, and segmentation of neurons or neuronal-like cells in live cell imaging. It analyzes image sequences, and stores results as movies and CSV files. It can be run with a GUI interface for single sequences, or using a Matlab script for batch processing.\r\n\r\n## Installation\r\nTo install neuritetracker on your machine follow these steps:\r\n\r\n1. Obtain a licensed copy of [Matlab](http://www.mathworks.com/products/matlab/) with a C/C++ compiler (or download a [trial version](https://www.mathworks.com/programs/nrd/matlab-trial-request.html?ref=ggl&s_eid=ppc_2537843722&q=matlab%20trial)). \r\n2. Clone the **neuritetracker** repository using the following command line ```git clone git@github.com:sgbasel/neuritetracker.git``` or download a [zip file](https://github.com/sgbasel/neuritetracker/archive/master.zip) of the repository. Unzip the archive file if you downloaded a .zip file.\r\n\r\n\r\n## Running neuritetracker GUI on a single sequence\r\n1. Open Matlab and run the ```neuritetracker_gui``` function located in the ```neuritetracker/trunk/``` folder. This will open the GUI interface for neuritetracker.\r\n2. Select a folder containing your source images for the nucleus channel (**1** in the diagram).\r\n3. Select a folder containing your source images for the cell body channel (**2** in the diagram).\r\n4. Select a destination folder where you would like the output to be saved (**3** in the diagram).\r\n5. Provide a *UniqueID* string which will uniquely identify the data (**4** in the diagram).\r\n6. Select the output options you prefer (**5** in the diagram).\r\n7. Press the *Run Neuritetracker* button (**6** in the diagram).\r\n\r\n![GUI interface](https://github.com/sgbasel/neuritetracker/blob/master/trunk/Documentation/Images/interface.png \"GUI interface\")\r\n\r\n## Running neuritetracker on a batch of sequences\r\nThe GUI interface does not support batch processing of sequences. To run on a batch of sequences, it is necessary to prepare a batch script and run it from the command prompt. Use the following steps:\r\n\r\n1. Open Matlab and navigate to the ```neuritetracker/trunk/``` folder.\r\n2. Modify output settings in ```settings.ini``` to fit your preferences. \r\n3. Modify the script ```example_batch_script.m``` to fit your needs. Change the ```sourceFolders``` variable to point to the root location of your data. Modify the ```SourceNuc``` and ```SourceBody``` strings to reflect your data. Modify the ```parameters.UniqueID``` variable to uniquely identify each sequence.\r\n4. Save your changes and run the modified ```example_batch_script.m``` at the command line.\r\n\r\n## Troubleshooting\r\nIf you encounter an error or have trouble running **neuritetracker** refer to the following troubleshooting steps\r\n\r\n* Neuritetracker comes with compiled libraries for Windows, Mac OS and Linux. In some cases it might be necessary to compile them on your computer. Open Matlab in the ```neuritetracker/trunk/``` folder and run the setup utility from the matlab command prompt ```neuritetracker_setup```. This will set up the **Vlfeat** library and compile the **Geodesics** functions.\r\n* In order to compile MEX files for Matlab, you need have a compiler installed on your machine and configure Matlab to use it. To see if Matlab recognizes an installed compiler on your computer, type ```mex -setup``` at the prompt.\r\n* To install a compiler for Windows, refer to the [Mathworks website](https://se.mathworks.com/support/compilers/R2015b/index.html?refresh=true&s_cid=pi_scl_5_R2015b_win64) for a list of supported compilers for your version of Matlab. [Microsoft Windows SDK](http://www.microsoft.com/en-us/download/confirmation.aspx?id=8279) is a freely available option which works for Windows 7. You can use [these instructions from Mathworks](http://www.mathworks.com/matlabcentral/answers/101105-how-do-i-install-microsoft-windows-sdk-7-1) to install it. You might also need to install Microsoft Visual Studio C++ 2010 SP1. If you have trouble installing, try the fix suggested [here](http://www.mathworks.com/matlabcentral/answers/95039-why-does-the-sdk-7-1-installation-fail-with-an-installation-failed-message-on-my-windows-system).\r\n\r\n## Summary of the method\r\nDetails of the method are described in the article\r\n\r\n1. L. Fusco, R. Lefort, K. Smith, F. Benmansour, G. Gonzalez, C. Barillari, B. Rinn, F. Fleuret, P. Fua, O. Pertz, [Computer vision profiling of neurite outgrowth dynamics reveals spatio-temporal modularity of Rho GTPase signaling](https://www.google.com), Journal of Cell Biology, *under review*\r\n\r\nThe image processing is divided into 9 steps, summarized in the figure. A brief description of each step is provided below.\r\n\r\n![Image processing pipeline](https://github.com/sgbasel/neuritetracker/blob/master/trunk/Documentation/Images/figure.png \"Image processing pipeline\")\r\n\r\n1. Segmentation of the nucleus using Maximally Stable Extremal Regions (MSER).\r\n2. Soma region growing using a fast marching method on geodesic intensity distance to the nucleus.\r\n3. Cell tracking using a greedy graph-based optimization.\r\n4. Cell filtering and identification of robust tracks.\r\n5. Apply Hessian-based filter to get high responses to tubular neurite-like structures\r\n6. Use this to model the likelihood each pixel belongs to neuron (sigmoid fitting on geodesic distance from soma)\r\n7. Set a likelihood threshold to obtain cell bodies\r\n8. Identify candidate neurite terminals (extreme points), use backtracing & minimal spanning trees to reconstruct the neurites\r\n9. Store the reconstructed neurite model in a HDS graph representation\r\n\r\n## Contents of the repository\r\nThe code has been organised into folders according to the various functions of the code. They are organized in the ```neuritetracker``` folder according to the list below followed by a short description.\r\n\r\n* _trunk_\r\n * _CellsDetection_ - code to detect neuron cells in static images\r\n * _Common_ - code shared in several routines\r\n * _FeaturesExtraction_ - code to extract & organize features describing the cells\r\n * _frangi-filter-version2a_ - code for the Hessian-based filter to detect neurite-like structures\r\n * _gaimc_ - 3rd party software with useful graph manipulation functions\r\n * _Geodesics_ - code to efficiently compute geodesic distances\r\n * _GreedyTracking_ - code to perform tracking on a graph formed from object detections\r\n * _IO_ - code for file input/output\r\n * _NeuritesDetection_ - code for detecting neurites\r\n * _NeuritesTracking_ - code for tracking the neurites\r\n * _TestData_ - sample image sequences to test the algorithm\r\n * _vlfeat-0.9.18_ - 3rd party code for MSER calculation from the vlfeat library (version 0.9.18)\r\n\r\nThe ```neuritetracker/trunk/``` folder also contains several files, described below.\r\n * ```neuritetracker_setup.m``` - a setup script. Run it once to compile necessary files.\r\n * ```neuritetracker_gui.m``` - a graphical user interface used to run neuritetracker\r\n * ```neuritetracker_cmd.m``` - the main command-line function to run neuritetracker\r\n * ```settings.ini```       - contains default parameters and configurations for neuritetracker\r\n * ```neuritetracker_gui.fig``` - matlab gui figure file\r\n\r\n## Dependencies\r\nNeuritetracker makes use of the following 3rd party software. These software packages are included in the ```neuritetracker``` repository. \r\n \r\n1. The [vlfeat library](http://www.vlfeat.org/download.html) available at http://www.vlfeat.org/download/vlfeat-0.9.20-bin.tar.gz\r\n2. The [Graph Algorithms in Matlab Code (gaimc)](https://github.com/dgleich/gaimc) available on github at https://github.com/dgleich/gaimc\r\n\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}